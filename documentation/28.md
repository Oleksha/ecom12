# Часть 28. Модуль «Продукты» (I) | Создание таблицы продуктов, модели и контроллера ресурсов в панели администратора
В этой части мы начинаем совершенно новый большой раздел — Модуль «Продукты» для панели администратора.

Так же, как ранее мы создали модуль «Категории», теперь мы начнем настраивать модуль «Товары».
## Шаг 1: Создание модели и миграция для таблицы продуктов
Сначала мы вместе создадим модель продукта с файлом миграции.

**Запустите эту команду**:
```
php artisan make:model Product -m
```
Она создаст:
- app/Models/Product.php (файл модели)
- database/migrations/xxxx_xx_xx_xxxxxx_create_products_table.php (Файл миграции)
## Шаг 2: Определите схему таблицы продуктов в файле миграции
Теперь откройте сгенерированный файл миграции в папке database/migrations/.

Файл будет выглядеть так:
```
XXXX_XX_XX_XXXXxx_create_products_table.php
```
Теперь замените код функции up() следующим:
```php
public function up(): void
{
    Schema::create('products', function (Blueprint $table) {
        $table->id();
        $table->integer('category_id');
        $table->integer('brand_id');
        $table->integer('admin_id');
        $table->string('admin_type');

        $table->string('product_name');
        $table->string('product_code');
        $table->string('product_color');
        $table->string('family_color');
        $table->string('group_code');
        $table->float('product_price');
        $table->float('product_discount');
        $table->float('product_discount_amount');

        $table->string('product_applied_on');
        $table->float('product_gst');

        $table->float('final_price');
        $table->string('main_image');

        $table->float('product_weight');
        $table->string('product_video');
        $table->text('description');
        $table->text('wash_care');
        $table->text('search_keywords');
        $table->string('fabric');
        $table->string('pattern');
        $table->string('sleeve');
        $table->string('fit');
        $table->string('occasion');
        $table->integer('stock');
        $table->integer('sort');

        $table->string('meta_title');
        $table->string('meta_description');
        $table->string('meta_keywords');
        $table->enum('is_featured', ['No', 'Yes']);
        $table->tinyInteger('status');
        $table->timestamps();
    });
}
```
## Шаг 3: Запуск миграции для создания таблицы продуктов
Теперь выполните эту команду Artisan, чтобы фактически создать таблицу внутри вашей базы данных:
```
php artisan migrate
```
После успешной миграции будет создана таблица товаров со всеми определенными столбцами.
## Шаг 4: Вставьте фиктивные продукты с помощью Tinker
Теперь вместо Seeder мы будем использовать ```Laravel Tinker```.

Tinker — это REPL-инструмент (Read-Eval-Print-Loop) для Laravel, позволяющий взаимодействовать с нашим приложением с помощью командной строки.

**Откройте Тинкер:**
```
php artisan tinker
```
Теперь вы находитесь в Tinker (режим командной строки).

Теперь вы можете создавать и сохранять новые записи о продуктах вручную следующим образом:

**Вставьте первый продукт**
```php
$product = new App\Models\Product;
$product->category_id = 8;
$product->brand_id = 0;
$product->admin_id = 1;
$product->admin_type = 'admin';
$product->product_name = 'Blue Casual T-Shirt';
$product->product_code = 'BCT001';
$product->product_color = 'Blue';
$product->family_color = 'Blue';
$product->group_code = 'GRP001';
$product->product_price = 1500;
$product->product_discount = 10;
$product->product_discount_amount = 150;
$product->product_applied_on = 'product';
$product->product_gst = 0;
$product->final_price = 1350;
$product->main_image = '';
$product->product_weight = 400;
$product->product_video = '';
$product->description = 'This is a stylish blue casual t-shirt for men.';
$product->wash_care = 'Machine wash cold.';
$product->search_keywords = 'blue tshirt, casual wear, men tshirt';
$product->fabric = 'Cotton';
$product->pattern = 'Solid';
$product->sleeve = 'Full Sleeve';
$product->fit = 'Regular Fit';
$product->occasion = 'Casual';
$product->stock = '50';
$product->sort = '1';
$product->meta_title = 'Blue Casual T-Shirt';
$product->meta_description = 'Bye Blue Casual T-Shirt for Men Online';
$product->meta_keywords = 'blue, casual, men, tshirt';
$product->is_featured = 'Yes';
$product->status = '1';
$product->save();
```
После выполнения $product->save(); первый продукт будет вставлен в таблицу продуктов!

**Вставьте второй продукт**
```php
$product = new App\Models\Product;
$product->category_id = 8;
$product->brand_id = 0;
$product->admin_id = 1;
$product->admin_type = 'admin';
$product->product_name = 'Red Casual T-Shirt';
$product->product_code = 'RCT001';
$product->product_color = 'Red';
$product->family_color = 'Red';
$product->group_code = 'GRP001';
$product->product_price = 2000;
$product->product_discount = 5;
$product->product_discount_amount = 100;
$product->product_applied_on = 'product';
$product->product_gst = 0;
$product->final_price = 1900;
$product->main_image = '';
$product->product_weight = 320;
$product->product_video = '';
$product->description = 'This is a stylish red casual t-shirt for men.';
$product->wash_care = 'Machine wash cold.';
$product->search_keywords = 'red tshirt, casual wear, men tshirt';
$product->fabric = 'Cotton';
$product->pattern = 'Solid';
$product->sleeve = 'Full Sleeve';
$product->fit = 'Regular Fit';
$product->occasion = 'Casual';
$product->stock = '60';
$product->sort = '2';
$product->meta_title = 'Red Casual T-Shirt';
$product->meta_description = 'Bye Red Casual T-Shirt for Men Online';
$product->meta_keywords = 'red, casual, men, tshirt';
$product->is_featured = 'No';
$product->status = '1';
$product->save();
```
2-й продукт также будет добавлен в базу данных!
## Шаг 5: Создайте контроллер продукта как контроллер ресурсов
Мы создадим ```ProductController``` внутри папки Admin по адресу ```/app/Http/Controllers/Admin/```, используя параметр ресурса для наличия предопределенных методов (индексация, создание, хранение, редактирование, обновление, уничтожение и тд).
```
php artisan make:controller Admin/ProductController --resource
```
# Что дальше?
В [следующей части](29.md) мы покажем список продуктов с помощью DataTable.

[Оглавление](../README.md)

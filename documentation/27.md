# Часть 27. Интеграция SweetAlert2 для подтверждения удаления | jQuery Alerts
В этом уроке мы улучшим панель администратора, интегрировав красивую и удобную библиотеку SweetAlert2 jQuery для оповещений о подтверждении удаления.

Эта функция улучшит пользовательский интерфейс, заменив базовый диалог JavaScript confirm() на более стильную, современную и последовательную систему оповещений во всем проекте.

Что вы узнаете из этого видео:
- Добавить базовое подтверждение JavaScript для действия удаления
- Установка и настройка библиотеки SweetAlert2 jQuery
- Примените SweetAlert2 для удаления субадминистраторов и категорий
- Сделайте скрипт подтверждения пригодным для повторного использования во всех будущих модулях.
- Отправка формы или перенаправление в зависимости от типа модуля
## Шаг 1. Простое подтверждение JavaScript (начальный шаг)
Начнем с реализации простого подтверждения ```JavaScript``` для модуля ```Subadmins```:
```
<a class="confirmDelete ms-2"
   style="color: #3f6ed3"
   name="Subadmin"
   title="Delete Subadmin"
   href="{{ url('admin/delete-subadmin/' . $subadmin->id) }}">
    <i class="fas fa-trash"></i>
</a>
```
**Код JavaScript:**
```
$('.confirmDelete').click(function () {
    let name = $(this).attr('name');
    if (confirm('Are you sure to delete this ' + name + '?')) {
        return true;
    }
    return false;
});
```
Примените ту же логику и к **кнопке удаления категории**:
```
<button class="confirmDelete" 
        name="Category" 
        title="DeleteCategory" 
        type="submit" 
        style="border: none; background: none; color: #3f6ed3">
    <i class="fas fa-trash"></i>
</button>
```
## Шаг 2. Интеграция SweetAlert2
Варианты установки:

**Установить через npm:**
```
npm install sweetalert2
```
Или включить через ```CDN``` в ```scripts.blade.php```:
```
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
```
**Тестирование SweetAlert:**

Добавьте это в ```custom.js``` для проверки установки:
```
$('.confirmDelete').click(function () {
        Swal.fire(
            'Good job!',
            'You clicked the button!',
            'success'
        );
        return false;
    });
```
**Обновление ссылки удаления для субадминистратора:**

Теперь передайте информацию о модуле с помощью атрибутов data- и удалите прямую ссылку:
```
<a class="confirmDelete ms-2"
   style="color: #3f6ed3"
   name="Subadmin"
   title="Delete Subadmin"
   href="javascript:void(0)"
   data-module="subadmin"
   data-id="{{ $subadmin->id }}">
    <i class="fas fa-trash"></i>
</a>
```
**Повторно используемый скрипт SweetAlert jQuery в custom.js**:
```
$(document).on('click', '.confirmDelete', function (e) {
    e.preventDefault();
    let button = $(this);
    let module = button.data('module');
    let module_id = button.data('id');
    let form = button.closest('form');
    let redirectUrl = '/admin/delete-' + module + '/' + module_id;
    Swal.fire({
        title: 'Вы уверены?',
        text: "Вы не сможете это изменить!",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33d33',
        confirmButtonText: 'Да, удалить!',
    }).then((result) => {
        if (result.isConfirmed) {
            if (form.length > 0) {
                form.submit(); // Отправить форму (используется в модуле категорий)
            } else {
                window.location.href = redirectUrl; // Перенаправление для удаления субадмина
            }
        }
    });
});
```
**Кнопка удаления обновленной категории (на основе формы)**:
```
<form action="{{ route('categories.destroy', $category->id) }}"
      method="POST" style="display: inline-block">
    @csrf
    @method('DELETE')
    <button class="confirmDelete"
            name="Category"
            title="DeleteCategory"
            type="button"
            data-module="category"
            data-id="{{ $category->id }}"
            style="border: none; background: none; color: #3f6ed3">
        <i class="fas fa-trash"></i>
    </button>
</form>
```
Результаты:
- Теперь субадминистраторов можно удалять с помощью подтверждения SweetAlert.
- Категории также можно удалять, используя тот же унифицированный скрипт подтверждения.
- Более профессиональный и интуитивно понятный пользовательский интерфейс для модулей администрирования
# Что дальше?
В [следующей части](28.md) мы продолжим совершенствовать панель администратора и сделаем этот скрипт SweetAlert полностью пригодным для повторного использования во всех будущих модулях, таких как «Продукты», «Купоны», «Пользователи» и т. д.

[Оглавление](../README.md)

# Часть 9. Реализация функции «Запомнить меня» для входа администратора
В этой части мы реализуем функцию «Запомнить меня» для страницы входа администратора с помощью файлов cookie. Это позволит администратору оставаться в системе, сохраняя свой адрес электронной почты и пароль в браузере в течение определённого периода времени, что улучшит пользовательский опыт, избавив от необходимости повторно вводить учётные данные.

Мы будем использовать ```AdminService``` для реализации этой функции, обеспечивая структурированность кода и простоту его поддержки. Это ещё раз продемонстрирует, как классы сервисов помогают эффективно управлять бизнес-логикой и поддерживать чистоту и масштабируемость кода.
## Шаг 1. Добавьте флажок «Запомнить меня»
Во-первых, мы добавим флажок «Запомнить меня» в форму входа администратора с названием «запомнить».
```html
<input class="form-check-input" type="checkbox" name="remember" id="remember" @if(isset($_COOKIE["email"])) checked="" @endif>
<label class="form-check-label" for="remember">Remember Me</label>
```
## Шаг 2. Обновите функцию входа в AdminService
Теперь мы обновим функцию входа в AdminService, чтобы сохранять адрес электронной почты и пароль администратора в cookie-файлах при установке флажка «Запомнить меня». Срок действия cookie-файлов составит 3600 секунд (что эквивалентно 1 часу).
```php
if (Auth::guard('admin')->attempt(['email' => $data['email'], 'password' => $data['password']])) {
    // Remember Admin Email and Password
    if (!empty($data['remember'])) {
        setcookie("email", $data['email'], time() + 3600);
        setcookie("password", $data['password'], time() + 3600);
    } else {
        setcookie("email", "");
        setcookie("password", "");
    }
    $loginStatus = 1;
} else {
    $loginStatus = 0;
}
return $loginStatus;
```
## Шаг 3. Предварительное заполнение учетных данных из файлов cookie
Обновите файл login.blade.php, чтобы поля адреса электронной почты и пароля автоматически заполнялись из файлов cookie, если они установлены. Также установите флажок «Запомнить меня», если файлы cookie доступны.
```html
<input id="loginEmail" type="email" class="form-control" name="email" placeholder="Email" @if(isset($_COOKIE["email"])) value="{{ $_COOKIE["email"] }}" @endif>
<input id="loginPassword" name="password" type="password" class="form-control" placeholder="Password"  @if(isset($_COOKIE["password"])) value="{{ $_COOKIE["password"] }}" @endif>
<input class="form-check-input" type="checkbox" name="remember" id="remember" @if(isset($_COOKIE["email"])) checked="" @endif>
```
Войдите в систему, используя следующие учетные данные:
- **Электронная почта**: admin@admin.com
- **Пароль**: 123456

Если флажок «Запомнить меня» установлен, адрес электронной почты и пароль будут сохранены в браузере для последующих входов в систему.
# Что дальше?
В [следующей части](10.md) мы поработаем над функциональностью смены пароля для страницы входа администратора с помощью AdminService.

[Оглавление](../README.md)

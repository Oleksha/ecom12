# Часть 45. Модуль брендов (I): миграция, модель, настройка сеялки и контроллера
С этого момента мы начнем работу над модулем «Бренды», который позволит администраторам назначать каждому продукту определенный бренд для лучшей фильтрации и управления.

В этой части мы поработаем над созданием таблицы брендов с помощью миграции и вставим записи брендов с помощью seeder.
## Шаг 1: Создание таблицы брендов с помощью миграции
Генерация модели и миграция:
```
php artisan make:model Brand -m
```
Откройте сгенерированный файл миграции в **database/migrations/** и обновите его следующим образом:
```php
Schema::create('brands', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->string('image')->nullable();
    $table->string('logo')->nullable();
    $table->float('discount')->default(0.00);
    $table->text('description')->nullable();
    $table->string('url')->unique();
    $table->string('meta_title')->nullable();
    $table->string('meta_description')->nullable();
    $table->string('meta_keywords')->nullable();
    $table->tinyInteger('status')->default(1);
    $table->timestamps();
});
```
Запустите миграцию для создания таблицы:
```
php artisan migrate
```
## Шаг 2: Создайте BrandController
Создайте контроллер ресурсов для управления действиями, связанными с брендом: 
```
php artisan make:controller Admin/BrandController --resource
```
Этот контроллер позже будет использоваться для перечисления, создания, обновления и удаления записей брендов из панели администратора.
## Шаг 3: Создание и распространение записей о бренде
Создайте сеялку:
```
php artisan make:seeder BrandTableSeeder
```
Теперь обновите **database/seeders/BrandTableSeeder.php**:
```php
namespace Database\Seeders;

use App\Models\Brand;
use Illuminate\Database\Seeder;

class BrandTableSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $brandRecords = [
            ['name' => 'Arrow', 'image' => '', 'logo' => '', 'discount' => 0, 'description' => '', 'url' => 'arrow', 'meta_title' => '', 'meta_description' => '', 'meta_keywords' => '', 'status' => 1],
            ['name' => 'Gar', 'image' => '', 'logo' => '', 'discount' => 0, 'description' => '', 'url' => 'gap', 'meta_title' => '', 'meta_description' => '', 'meta_keywords' => '', 'status' => 1],
            ['name' => 'Lee', 'image' => '', 'logo' => '', 'discount' => 0, 'description' => '', 'url' => 'lee', 'meta_title' => '', 'meta_description' => '', 'meta_keywords' => '', 'status' => 1],
            ['name' => 'Monte Carlo', 'image' => '', 'logo' => '', 'discount' => 0, 'description' => '', 'url' => 'monte-carlo', 'meta_title' => '', 'meta_description' => '', 'meta_keywords' => '', 'status' => 1],
            ['name' => 'Peter England', 'image' => '', 'logo' => '', 'discount' => 0, 'description' => '', 'url' => 'peter-england', 'meta_title' => '', 'meta_description' => '', 'meta_keywords' => '', 'status' => 1],
        ];
        Brand::insert($brandRecords);
    }
}
```
## Шаг 4: Зарегистрируйте Seeder
Редактировать **database/seeders/DatabaseSeeder.php**: 
```php
public function run(): void
{
    $this->call(AdminsTableSeeder::class);
    $this->call(CategoryTableSeeder::class);
    $this->call(ColorTableSeeder::class);
    $this->call(ProductsAttributesTableSeeder::class);
    $this->call(BrandTableSeeder::class);
}
```
## Шаг 5: Запуск Seeder
Выполните следующую команду для вставки данных о бренде: 
```
php artisan db:seed --class=BrandTableSeeder
```
# Что дальше?
В [следующей части](46.md) мы отобразим бренды в панели администратора с помощью DataTables. Мы также добавим управление доступом на основе ролей для администраторов и субадминистраторов, переключение статуса и функцию удаления бренда.

[Оглавление](../README.md)
